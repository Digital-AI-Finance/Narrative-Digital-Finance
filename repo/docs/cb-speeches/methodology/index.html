<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methodology - CB Speeches Analysis</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --primary: #1a5f7a;
            --secondary: #c73e1d;
            --accent: #f59e0b;
            --text: #1e293b;
            --bg: #f8fafc;
            --card-bg: #fff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            line-height: 1.7;
            color: var(--text);
            background: var(--bg);
        }
        .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }
        header {
            background: linear-gradient(135deg, var(--primary), #0f3d4c);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        header h1 { font-size: 1.5rem; margin-bottom: 10px; font-weight: 600; }
        header p { opacity: 0.9; font-size: 0.95rem; }
        nav {
            background: var(--card-bg);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 15px 0;
            flex-wrap: wrap;
        }
        nav a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 4px;
            transition: background 0.2s;
        }
        nav a:hover { background: var(--bg); }
        nav a.active { color: var(--primary); font-weight: 600; }
        main { padding: 40px 0; }
        .card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        h2 { color: var(--primary); margin-bottom: 20px; font-size: 1.4rem; border-bottom: 2px solid var(--primary); padding-bottom: 10px; }
        h3 { margin: 25px 0 15px; color: var(--primary); font-size: 1.15rem; }
        p { margin-bottom: 15px; }
        .formula {
            background: #f1f5f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        th { background: var(--bg); font-weight: 600; }
        code {
            background: #e2e8f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
        }
        .param-box {
            background: #fef3c7;
            border-left: 4px solid var(--accent);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .param-box strong { color: #92400e; }
        ul, ol { margin-left: 25px; margin-bottom: 15px; }
        li { margin: 8px 0; }
        footer {
            background: #1e293b;
            color: white;
            padding: 30px 0;
            text-align: center;
            margin-top: 40px;
        }
        footer a { color: var(--accent); }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Methodology</h1>
            <p>Detailed technical approach for CB Speeches analysis</p>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="../../index.html">Project Home</a></li>
            <li><a href="../index.html">Overview</a></li>
            <li><a href="../figures/index.html">Figures</a></li>
            <li><a href="../data/index.html">Data</a></li>
            <li><a href="index.html" class="active">Methodology</a></li>
            <li><a href="../reproduce/index.html">Reproduce</a></li>
            <li><a href="../paper/index.html">Paper</a></li>
        </ul>
    </nav>

    <main class="container">
        <div class="card">
            <h2>1. Data Sources</h2>

            <h3>Macroeconomic Data (FRED)</h3>
            <p>Six monthly indicators from the Federal Reserve Economic Data (FRED) API, covering 1996-2025:</p>
            <table>
                <tr><th>Series ID</th><th>Variable</th><th>Frequency</th></tr>
                <tr><td><code>FEDFUNDS</code></td><td>Federal Funds Effective Rate</td><td>Monthly</td></tr>
                <tr><td><code>CPIAUCNS</code></td><td>Consumer Price Index (All Urban)</td><td>Monthly</td></tr>
                <tr><td><code>PPIACO</code></td><td>Producer Price Index (All Commodities)</td><td>Monthly</td></tr>
                <tr><td><code>GDP</code></td><td>Gross Domestic Product</td><td>Quarterly*</td></tr>
                <tr><td><code>UNRATE</code></td><td>Unemployment Rate</td><td>Monthly</td></tr>
                <tr><td><code>PAYEMS</code></td><td>Total Nonfarm Payrolls</td><td>Monthly</td></tr>
            </table>
            <p style="font-size: 0.9rem; color: #666;">*GDP is quarterly data, forward-filled to monthly frequency using "last known value" approach.</p>

            <h3>Central Bank Speeches</h3>
            <p>2,421 US Federal Reserve speeches (1996-2025) from the BIS/Gigando dataset with pre-computed sentiment labels:</p>
            <ul>
                <li><strong>Hawkish:</strong> 413 speeches (17.1%)</li>
                <li><strong>Dovish:</strong> 713 speeches (29.4%)</li>
                <li><strong>Neutral:</strong> 1,295 speeches (53.5%)</li>
            </ul>
        </div>

        <div class="card">
            <h2>2. Preprocessing: Rolling Standardization</h2>

            <p>All macroeconomic variables are standardized using a 12-month rolling window to remove trends and ensure stationarity:</p>

            <div class="formula">
                \[ z_{t} = \frac{x_{t} - \bar{x}_{t-11:t}}{\sigma_{t-11:t}} \]
            </div>

            <p>Where:</p>
            <ul>
                <li>\(x_t\) = raw value at time \(t\)</li>
                <li>\(\bar{x}_{t-11:t}\) = rolling 12-month mean</li>
                <li>\(\sigma_{t-11:t}\) = rolling 12-month standard deviation</li>
            </ul>

            <div class="param-box">
                <strong>Parameter:</strong> <code>ROLLING_WINDOW = 12</code> months
            </div>
        </div>

        <div class="card">
            <h2>3. Principal Component Analysis (PCA)</h2>

            <p>PCA extracts orthogonal factors from the 6 standardized macroeconomic variables:</p>

            <div class="formula">
                \[ \mathbf{Z} = \mathbf{X} \mathbf{W} \]
            </div>

            <p>Where \(\mathbf{W}\) contains the eigenvectors of the covariance matrix \(\mathbf{X}^T\mathbf{X}\).</p>

            <h3>Component Interpretation</h3>
            <table>
                <tr><th>Component</th><th>Variance</th><th>Interpretation</th><th>Key Loadings</th></tr>
                <tr>
                    <td><strong>PC1</strong></td>
                    <td>48.6%</td>
                    <td>Macro Strength Index</td>
                    <td>Fed Rate (+), Payrolls (+), Unemployment (-)</td>
                </tr>
                <tr>
                    <td><strong>PC2</strong></td>
                    <td>23.2%</td>
                    <td>Inflation Index</td>
                    <td>CPI (+), PPI (+), Fed Rate (-)</td>
                </tr>
                <tr>
                    <td><strong>PC3</strong></td>
                    <td>15.4%</td>
                    <td>Policy-Labor Conflict</td>
                    <td>Fed Rate (+), Unemployment (+), Payrolls (-)</td>
                </tr>
            </table>

            <p>First 3 components explain <strong>87.1%</strong> of total variance.</p>
        </div>

        <div class="card">
            <h2>4. Structural Break Detection (PELT)</h2>

            <p>The Pruned Exact Linear Time (PELT) algorithm detects changepoints by minimizing:</p>

            <div class="formula">
                \[ \sum_{i=1}^{m+1} \left[ \mathcal{C}(y_{\tau_{i-1}+1:\tau_i}) \right] + \beta m \]
            </div>

            <p>Where:</p>
            <ul>
                <li>\(\mathcal{C}(\cdot)\) = segment cost function (RBF kernel)</li>
                <li>\(\tau_i\) = changepoint locations</li>
                <li>\(m\) = number of changepoints</li>
                <li>\(\beta\) = penalty parameter controlling sensitivity</li>
            </ul>

            <div class="param-box">
                <strong>Parameters:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li><code>PELT_PENALTY = 4</code></li>
                    <li>Kernel: Radial Basis Function (RBF)</li>
                </ul>
            </div>

            <h3>Detected Breakpoints</h3>
            <table>
                <tr><th>Index</th><th># Breakpoints</th><th>Key Dates</th></tr>
                <tr><td>Macro (PC1)</td><td>8</td><td>2001-01, 2007-04, 2010-03, 2019-05, 2021-06</td></tr>
                <tr><td>Inflation (PC2)</td><td>12</td><td>2001-06, 2008-07, 2014-10, 2020-08, 2022-09</td></tr>
            </table>
        </div>

        <div class="card">
            <h2>5. Rolling Regression Analysis</h2>

            <p>Rolling OLS regression with a 36-month window estimates time-varying relationships:</p>

            <div class="formula">
                \[ \Delta Y_t = \alpha + \beta_H \cdot \Delta H_t + \beta_D \cdot \Delta D_t + \epsilon_t \]
            </div>

            <p>Where:</p>
            <ul>
                <li>\(\Delta Y_t\) = first difference of Macro/Inflation index</li>
                <li>\(\Delta H_t\) = first difference of hawkish sentiment</li>
                <li>\(\Delta D_t\) = first difference of dovish sentiment</li>
            </ul>

            <p>First differences are used to ensure stationarity and focus on changes rather than levels.</p>

            <div class="param-box">
                <strong>Parameter:</strong> <code>REGRESSION_WINDOW = 36</code> months (3 years)
            </div>

            <h3>Key Results</h3>
            <ul>
                <li>Rolling R-squared consistently near zero (median &lt; 0.05)</li>
                <li>Beta coefficients fluctuate around zero with no persistent sign</li>
                <li>Suggests sentiment does not systematically predict macro changes</li>
            </ul>
        </div>

        <div class="card">
            <h2>6. Correlation Analysis</h2>

            <p>Pearson correlations computed on first-differenced series:</p>

            <div class="formula">
                \[ \rho_{XY} = \frac{\text{Cov}(\Delta X, \Delta Y)}{\sigma_{\Delta X} \sigma_{\Delta Y}} \]
            </div>

            <h3>Key Findings</h3>
            <table>
                <tr><th>Pair</th><th>Correlation</th><th>Interpretation</th></tr>
                <tr><td>Macro Index - Hawkish</td><td><strong>0.005</strong></td><td>Near-zero relationship</td></tr>
                <tr><td>Macro Index - Dovish</td><td>0.005</td><td>Near-zero relationship</td></tr>
                <tr><td>Inflation Index - Hawkish</td><td>0.003</td><td>Near-zero relationship</td></tr>
                <tr><td>Hawkish - Dovish</td><td>0.098</td><td>Weak positive (concurrent usage)</td></tr>
            </table>

            <p style="margin-top: 20px;"><strong>Central finding:</strong> The near-zero correlation (0.005) between macroeconomic indices and speech sentiment challenges assumptions about narrative-driven policy transmission.</p>
        </div>

        <div class="card">
            <h2>7. Reproducibility</h2>

            <div class="param-box">
                <strong>Random Seed:</strong> <code>RANDOM_STATE = 42</code><br>
                All stochastic operations use this seed for exact reproducibility.
            </div>

            <p>Full pipeline code available at: <a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance-CB-Speeches">GitHub Repository</a></p>
            <p>See <a href="../reproduce/index.html">Reproduce</a> page for step-by-step instructions.</p>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Part of the <a href="../../index.html">Narrative Digital Finance</a> SNSF Research Project</p>
            <p style="margin-top: 10px; opacity: 0.7;">SNSF Grant IZCOZ0_213370 | 2023-2026</p>
        </div>
    </footer>
</body>
</html>
