<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narrative Digital Finance | SNSF Research Project</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a;
            --primary-light: #1e293b;
            --secondary: #3b82f6;
            --secondary-light: #60a5fa;
            --accent: #f59e0b;
            --accent-light: #fbbf24;
            --success: #10b981;
            --light: #f8fafc;
            --lighter: #ffffff;
            --text: #334155;
            --text-light: #64748b;
            --border: #e2e8f0;
            --navbar-height: 70px;
            --sidebar-width: 280px;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
            --radius: 12px;
            --radius-lg: 16px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.7;
            color: var(--text);
            background: var(--light);
            -webkit-font-smoothing: antialiased;
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }
        .animate-fade-up { animation: fadeInUp 0.6s ease-out forwards; }
        .animate-slide-left { animation: slideInLeft 0.6s ease-out forwards; }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--navbar-height);
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            z-index: 1000;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .navbar-brand {
            font-weight: 700;
            font-size: 1.25rem;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .navbar-brand span {
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .navbar-nav {
            display: flex;
            list-style: none;
            gap: 0.25rem;
        }
        .navbar-nav a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            padding: 0.5rem 0.875rem;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        .navbar-nav a:hover { color: white; background: rgba(255,255,255,0.1); }
        .navbar-nav a.active { color: white; background: var(--secondary); }
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: var(--navbar-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--navbar-height));
            background: var(--lighter);
            border-right: 1px solid var(--border);
            padding: 2rem 1.5rem;
            overflow-y: auto;
            z-index: 100;
        }
        .sidebar-header {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-light);
            margin-bottom: 1rem;
        }
        .sidebar-nav { list-style: none; }
        .sidebar-nav li { margin: 0.125rem 0; }
        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text);
            text-decoration: none;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        .sidebar-nav a:hover {
            background: var(--light);
            color: var(--secondary);
        }
        .sidebar-nav a.active {
            background: linear-gradient(90deg, rgba(59,130,246,0.1), transparent);
            border-left-color: var(--secondary);
            color: var(--secondary);
        }
        .sidebar-nav .icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }
        .sidebar-divider {
            height: 1px;
            background: var(--border);
            margin: 1.5rem 0;
        }
        .sidebar-section { margin-top: 1.5rem; }
        .sidebar-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            background: var(--light);
            border-radius: 8px;
            font-size: 0.75rem;
            color: var(--text-light);
            margin: 0.25rem 0;
            width: 100%;
        }
        .sidebar-badge img { height: 18px; }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            margin-top: var(--navbar-height);
        }

        /* Hero */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 50%, #1e3a5f 100%);
            color: white;
            padding: 5rem 2rem;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.5;
        }
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            margin-bottom: 1.5rem;
            backdrop-filter: blur(10px);
        }
        .hero-badge .dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #fff 0%, #e2e8f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero .subtitle {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        .hero .tagline {
            font-size: 1rem;
            opacity: 0.7;
            margin-bottom: 2rem;
        }
        .hero-badges {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }
        .hero-badges img { height: 24px; transition: transform 0.2s; }
        .hero-badges a:hover img { transform: scale(1.05); }
        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.875rem 1.75rem;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--secondary), var(--secondary-light));
            color: white;
            box-shadow: 0 4px 14px rgba(59,130,246,0.4);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59,130,246,0.5);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
        }
        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        .btn-outline {
            background: transparent;
            color: var(--secondary);
            border: 2px solid var(--secondary);
        }
        .btn-outline:hover {
            background: var(--secondary);
            color: white;
        }
        .btn-sm { padding: 0.625rem 1.25rem; font-size: 0.875rem; }

        /* Container */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        /* Sections */
        .section {
            background: var(--lighter);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            scroll-margin-top: calc(var(--navbar-height) + 24px);
            transition: box-shadow 0.3s;
        }
        .section:hover { box-shadow: var(--shadow-lg); }
        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .section-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--secondary), var(--secondary-light));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }
        .section h2 {
            color: var(--primary);
            font-size: 1.5rem;
            font-weight: 700;
        }
        .section-subtitle {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }
        .section h3 {
            color: var(--primary);
            font-size: 1.1rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
        }
        .section p { color: var(--text); }

        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }

        /* Cards */
        .card {
            background: var(--light);
            border-radius: var(--radius);
            padding: 1.75rem;
            border: 1px solid var(--border);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, var(--secondary), var(--accent));
            opacity: 0;
            transition: opacity 0.3s;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: transparent;
        }
        .card:hover::before { opacity: 1; }
        .card-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--secondary);
            color: white;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        .card h4 {
            color: var(--primary);
            font-size: 1.05rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }
        .card p {
            font-size: 0.9rem;
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Team Cards */
        .team-card {
            text-align: center;
            padding: 2rem 1.5rem;
        }
        .team-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            font-weight: 700;
        }
        .team-card h4 {
            color: var(--primary);
            margin-bottom: 0.25rem;
        }
        .team-card .role {
            color: var(--secondary);
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }
        .team-card .affiliation {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        .stat-card {
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, var(--light), var(--lighter));
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .stat-label {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 0.25rem;
        }

        /* Publication Table */
        .pub-table-container {
            overflow-x: auto;
            margin-top: 1.5rem;
        }
        .pub-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
            min-width: 800px;
        }
        .pub-table th {
            background: var(--primary);
            color: white;
            padding: 0.75rem 0.5rem;
            text-align: left;
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
            position: sticky;
            top: 0;
        }
        .pub-table th:hover {
            background: var(--primary-light);
        }
        .pub-table th .sort-icon {
            margin-left: 0.25rem;
            opacity: 0.5;
        }
        .pub-table td {
            padding: 0.75rem 0.5rem;
            border-bottom: 1px solid var(--border);
            vertical-align: top;
        }
        .pub-table tr:hover {
            background: var(--light);
        }
        .pub-table .title-cell {
            max-width: 350px;
        }
        .pub-table .title-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }
        .pub-table .title-link:hover {
            color: var(--secondary);
            text-decoration: underline;
        }
        .pub-table .authors-cell {
            color: var(--text-light);
            font-size: 0.8rem;
            max-width: 200px;
        }
        .pub-table .venue-cell {
            font-style: italic;
            color: var(--text-light);
        }
        .pub-table .citations-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            background: var(--light);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-weight: 600;
            color: var(--text);
        }
        .pub-table .citations-badge.high {
            background: linear-gradient(135deg, var(--secondary), var(--secondary-light));
            color: white;
        }
        .pub-table .doi-link {
            color: var(--secondary);
            text-decoration: none;
            font-size: 0.75rem;
        }
        .pub-table .doi-link:hover {
            text-decoration: underline;
        }
        .pub-table .oa-badge {
            display: inline-block;
            background: var(--success);
            color: white;
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
        }
        .pub-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .pub-search {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
            width: 250px;
            transition: border-color 0.2s;
        }
        .pub-search:focus {
            outline: none;
            border-color: var(--secondary);
        }
        .pub-count {
            color: var(--text-light);
            font-size: 0.85rem;
        }
        .refresh-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .refresh-btn:hover {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }
        .refresh-btn.loading {
            opacity: 0.6;
            pointer-events: none;
        }
        .refresh-btn .spinner {
            display: none;
            width: 14px;
            height: 14px;
            border: 2px solid currentColor;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        .refresh-btn.loading .spinner {
            display: inline-block;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Team Metrics */
        .team-metrics {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 0.75rem;
            flex-wrap: wrap;
        }
        .team-metric {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.25rem 0.5rem;
            background: var(--lighter);
            border-radius: 6px;
            border: 1px solid var(--border);
        }
        .team-metric-value {
            font-weight: 700;
            color: var(--secondary);
            font-size: 0.95rem;
        }
        .team-metric-label {
            font-size: 0.65rem;
            color: var(--text-light);
            text-transform: uppercase;
        }
        .team-links {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }
        .team-link {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.5rem;
            background: var(--light);
            border-radius: 4px;
            font-size: 0.7rem;
            color: var(--text);
            text-decoration: none;
            transition: all 0.2s;
        }
        .team-link:hover {
            background: var(--secondary);
            color: white;
        }
        .team-link img {
            height: 14px;
        }

        /* Timeline */
        .timeline { position: relative; padding-left: 2rem; }
        .timeline::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, var(--secondary), var(--accent));
        }
        .timeline-item {
            position: relative;
            padding: 1.5rem 0;
            padding-left: 2rem;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -2rem;
            top: 1.75rem;
            width: 16px;
            height: 16px;
            background: var(--lighter);
            border: 3px solid var(--secondary);
            border-radius: 50%;
        }
        .timeline-date {
            color: var(--secondary);
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 0.25rem;
        }
        .timeline-item h4 {
            color: var(--primary);
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }
        .timeline-item p {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        /* Contact */
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
        }
        .contact-card {
            padding: 1.5rem;
            background: var(--light);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            transition: all 0.3s;
        }
        .contact-card:hover {
            border-color: var(--secondary);
            transform: translateY(-2px);
        }
        .contact-card h4 {
            color: var(--primary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .contact-card p {
            font-size: 0.85rem;
            color: var(--text-light);
        }
        .contact-card a {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 500;
        }
        .contact-card a:hover { text-decoration: underline; }

        /* Footer */
        .footer {
            background: var(--primary);
            color: white;
            padding: 3rem 2rem;
        }
        .footer-content {
            max-width: 900px;
            margin: 0 auto;
        }
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        .footer-col h5 {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
            color: rgba(255,255,255,0.6);
        }
        .footer-col a {
            display: block;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-size: 0.9rem;
            padding: 0.375rem 0;
            transition: color 0.2s;
        }
        .footer-col a:hover { color: var(--accent); }
        .footer-bottom {
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.6);
        }
        .footer-bottom a { color: var(--accent); }

        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--secondary), var(--secondary-light));
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.25rem;
            box-shadow: var(--shadow-lg);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 99;
        }
        .back-to-top.visible { opacity: 1; visibility: visible; }
        .back-to-top:hover { transform: translateY(-4px) scale(1.05); }

        /* Mobile */
        @media (max-width: 1024px) {
            .navbar-nav { display: none; }
            .menu-toggle { display: block; }
            .sidebar { transform: translateX(-100%); transition: transform 0.3s; }
            .sidebar.open { transform: translateX(0); }
            .main-content { margin-left: 0; }
            .navbar-nav.show {
                display: flex;
                flex-direction: column;
                position: absolute;
                top: var(--navbar-height);
                left: 0;
                right: 0;
                background: var(--primary);
                padding: 1rem;
                border-top: 1px solid rgba(255,255,255,0.1);
            }
        }
        @media (max-width: 640px) {
            .hero { padding: 3rem 1.5rem; }
            .hero h1 { font-size: 2rem; }
            .hero .subtitle { font-size: 1rem; }
            .container { padding: 1.5rem; }
            .section { padding: 1.5rem; }
            .grid, .grid-2, .grid-3 { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: 1fr; }
            .stat-number { font-size: 2rem; }
            .hero-buttons { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <a href="#" class="navbar-brand">
            <span>NDF</span> Narrative Digital Finance
        </a>
        <button class="menu-toggle" onclick="toggleMenu()">&#9776;</button>
        <ul class="navbar-nav" id="navMenu">
            <li><a href="#overview">Overview</a></li>
            <li><a href="#objectives">Objectives</a></li>
            <li><a href="#team">Team</a></li>
            <li><a href="#methods">Methods</a></li>
            <li><a href="#results">Results</a></li>
            <li><a href="#publications">Publications</a></li>
            <li><a href="#news">News</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">Navigation</div>
        <ul class="sidebar-nav" id="sidebarNav">
            <li><a href="#overview"><span class="icon">&#9679;</span> Project Overview</a></li>
            <li><a href="#objectives"><span class="icon">&#9733;</span> Research Objectives</a></li>
            <li><a href="#team"><span class="icon">&#9787;</span> Team</a></li>
            <li><a href="#methods"><span class="icon">&#9881;</span> Methods</a></li>
            <li><a href="#results"><span class="icon">&#9776;</span> Output & Results</a></li>
            <li><a href="#publications"><span class="icon">&#9998;</span> Publications</a></li>
            <li><a href="#collaborations"><span class="icon">&#9741;</span> Collaborations</a></li>
            <li><a href="#funding"><span class="icon">&#9830;</span> Funding</a></li>
            <li><a href="#news"><span class="icon">&#9888;</span> News & Updates</a></li>
            <li><a href="#contact"><span class="icon">&#9993;</span> Contact</a></li>
        </ul>
        <div class="sidebar-divider"></div>
        <div class="sidebar-header">Quick Links</div>
        <ul class="sidebar-nav">
            <li><a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance" target="_blank">GitHub Repository</a></li>
            <li><a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance/wiki" target="_blank">Wiki Documentation</a></li>
            <li><a href="https://www.digital-finance-msca.com/snsf-narrative-digital-finance" target="_blank">Project Website</a></li>
        </ul>
        <div class="sidebar-divider"></div>
        <div class="sidebar-header">Funding</div>
        <a href="https://www.mysnf.ch/grants/grant.aspx?id=c8d8081e-6eee-4418-92bb-21dc2c89566a" class="sidebar-badge" target="_blank">
            <img src="https://img.shields.io/badge/SNSF-red" alt="SNSF">
        </a>
        <a href="https://cordis.europa.eu/project/id/101119635" class="sidebar-badge" target="_blank">
            <img src="https://img.shields.io/badge/EU-Horizon-blue" alt="EU">
        </a>
    </aside>

    <!-- Main -->
    <main class="main-content">
        <!-- Hero -->
        <div class="hero">
            <div class="hero-content animate-fade-up">
                <div class="hero-badge">
                    <span class="dot"></span>
                    Active Research Project
                </div>
                <h1>Narrative Digital Finance</h1>
                <p class="subtitle">A tale of structural breaks, bubbles & market narratives</p>
                <p class="tagline">Research Project of the Swiss National Science Foundation (SNSF)</p>
                <div class="hero-badges">
                    <a href="https://www.mysnf.ch/grants/grant.aspx?id=c8d8081e-6eee-4418-92bb-21dc2c89566a"><img src="https://img.shields.io/badge/Funded%20by-SNSF-dc2626?style=for-the-badge" alt="SNSF"></a>
                    <a href="https://cordis.europa.eu/project/id/101119635"><img src="https://img.shields.io/badge/EU-Horizon%20Europe-2563eb?style=for-the-badge" alt="EU"></a>
                    <img src="https://img.shields.io/badge/Status-Active-10b981?style=for-the-badge" alt="Active">
                </div>
                <div class="hero-buttons">
                    <a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance" class="btn btn-primary">View on GitHub</a>
                    <a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance/wiki" class="btn btn-secondary">Documentation</a>
                </div>
            </div>
        </div>

        <div class="container">
            <!-- Overview -->
            <section id="overview" class="section animate-fade-up">
                <div class="section-header">
                    <div class="section-icon">&#9679;</div>
                    <div>
                        <h2>Project Overview</h2>
                        <p class="section-subtitle">Understanding financial markets through narrative analysis</p>
                    </div>
                </div>
                <p>Large fluctuations, instabilities, trends and uncertainty of financial markets constitute a substantial challenge for asset management companies, pension funds and regulators. This project develops a comprehensive framework that utilizes advanced machine learning and NLP techniques to predict market outcomes, detect asset price bubbles, and identify structural breaks using diverse data sources.</p>
                <p style="margin-top: 1rem;">The research bridges the gap between traditional econometric approaches and modern AI techniques, providing new insights into the role of narratives and quantitative data in financial decision-making.</p>
            </section>

            <!-- Objectives -->
            <section id="objectives" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9733;</div>
                    <div>
                        <h2>Research Objectives</h2>
                        <p class="section-subtitle">Three pillars of our research agenda</p>
                    </div>
                </div>
                <div class="grid grid-3">
                    <div class="card">
                        <div class="card-number">1</div>
                        <h4>Econometric Validation</h4>
                        <p>Validate and refine existing econometric models using real-world financial data from multiple markets and time periods.</p>
                    </div>
                    <div class="card">
                        <div class="card-number">2</div>
                        <h4>Narrative Analysis</h4>
                        <p>Integrate narrative analysis to understand and predict market behaviors and asset price dynamics through text, speech, and media.</p>
                    </div>
                    <div class="card">
                        <div class="card-number">3</div>
                        <h4>AI/ML Framework</h4>
                        <p>Create a multidimensional AI and ML framework that enhances detection of market anomalies and forecasts financial trends.</p>
                    </div>
                </div>
            </section>

            <!-- Team -->
            <section id="team" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9787;</div>
                    <div>
                        <h2>Our Team</h2>
                        <p class="section-subtitle">University of Twente & Bern Business School</p>
                    </div>
                </div>
                <div class="grid" id="teamGrid">
                    <div class="card team-card">
                        <div class="team-avatar">JO</div>
                        <h4>Joerg Osterrieder</h4>
                        <p class="role">Principal Investigator</p>
                        <p class="affiliation">Bern Business School<br>University of Twente</p>
                        <div class="team-metrics">
                            <div class="team-metric">
                                <span class="team-metric-value">136</span>
                                <span class="team-metric-label">Works</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">1,153</span>
                                <span class="team-metric-label">Citations</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">13</span>
                                <span class="team-metric-label">h-index</span>
                            </div>
                        </div>
                        <div class="team-links">
                            <a href="https://orcid.org/0000-0003-0189-8636" target="_blank" class="team-link">ORCID</a>
                            <a href="https://scholar.google.com/citations?user=ocRaXoIAAAAJ" target="_blank" class="team-link">Scholar</a>
                            <a href="https://papers.ssrn.com/sol3/cf_dev/AbsByAuth.cfm?per_id=2618281" target="_blank" class="team-link">SSRN</a>
                        </div>
                    </div>
                    <div class="card team-card">
                        <div class="team-avatar">BH</div>
                        <h4>Branka Hadji Misheva</h4>
                        <p class="role">Team Member</p>
                        <p class="affiliation">Bern Business School</p>
                        <div class="team-metrics">
                            <div class="team-metric">
                                <span class="team-metric-value">42</span>
                                <span class="team-metric-label">Works</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">380</span>
                                <span class="team-metric-label">Citations</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">9</span>
                                <span class="team-metric-label">h-index</span>
                            </div>
                        </div>
                        <div class="team-links">
                            <a href="https://orcid.org/0000-0001-7020-3469" target="_blank" class="team-link">ORCID</a>
                        </div>
                    </div>
                    <div class="card team-card">
                        <div class="team-avatar">GT</div>
                        <h4>Gabin Taibi</h4>
                        <p class="role">PhD Researcher</p>
                        <p class="affiliation">Bern Business School<br>University of Twente</p>
                        <div class="team-metrics">
                            <div class="team-metric">
                                <span class="team-metric-value">1</span>
                                <span class="team-metric-label">Works</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">1</span>
                                <span class="team-metric-label">Citations</span>
                            </div>
                        </div>
                    </div>
                    <div class="card team-card">
                        <div class="team-avatar">LB</div>
                        <h4>Lennart John Baals</h4>
                        <p class="role">PhD Researcher</p>
                        <p class="affiliation">Bern Business School<br>University of Twente</p>
                        <div class="team-metrics">
                            <div class="team-metric">
                                <span class="team-metric-value">14</span>
                                <span class="team-metric-label">Works</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">125</span>
                                <span class="team-metric-label">Citations</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">5</span>
                                <span class="team-metric-label">h-index</span>
                            </div>
                        </div>
                        <div class="team-links">
                            <a href="https://www.researchgate.net/scientific-contributions/Lennart-John-Baals-2218848188" target="_blank" class="team-link">ResearchGate</a>
                            <a href="https://www.linkedin.com/in/lennart-john-baals-a621aa193/" target="_blank" class="team-link">LinkedIn</a>
                        </div>
                    </div>
                    <div class="card team-card">
                        <div class="team-avatar">YL</div>
                        <h4>Yiting Liu</h4>
                        <p class="role">PhD Researcher</p>
                        <p class="affiliation">Bern Business School<br>University of Twente</p>
                        <div class="team-metrics">
                            <div class="team-metric">
                                <span class="team-metric-value">12</span>
                                <span class="team-metric-label">Works</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">351</span>
                                <span class="team-metric-label">Citations</span>
                            </div>
                            <div class="team-metric">
                                <span class="team-metric-value">4</span>
                                <span class="team-metric-label">h-index</span>
                            </div>
                        </div>
                        <div class="team-links">
                            <a href="https://orcid.org/0009-0006-9554-8205" target="_blank" class="team-link">ORCID</a>
                            <a href="https://people.utwente.nl/yiting.liu" target="_blank" class="team-link">UT Profile</a>
                            <a href="https://www.digital-finance-msca.com/people/yiting-liu" target="_blank" class="team-link">MSCA</a>
                        </div>
                    </div>
                    <div class="card team-card">
                        <div class="team-avatar">MK</div>
                        <h4>Marius Jan Klein</h4>
                        <p class="role">Team Member</p>
                        <p class="affiliation">Bern Business School</p>
                    </div>
                </div>
                <p style="text-align: center; margin-top: 1rem; font-size: 0.75rem; color: var(--text-light);">
                    Metrics from <a href="https://openalex.org" target="_blank" style="color: var(--secondary);">OpenAlex</a>
                </p>
            </section>

            <!-- Methods -->
            <section id="methods" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9881;</div>
                    <div>
                        <h2>Methodology</h2>
                        <p class="section-subtitle">Our approach to financial market analysis</p>
                    </div>
                </div>
                <div class="grid grid-3">
                    <div class="card">
                        <h4>Data Collection</h4>
                        <p>Stock prices, macroeconomic indicators, news articles, social media, and textual content from diverse web sources.</p>
                    </div>
                    <div class="card">
                        <h4>NLP & Text Mining</h4>
                        <p>Sentiment analysis, narrative structure extraction, topic modeling, and impact assessment on market movements.</p>
                    </div>
                    <div class="card">
                        <h4>AI Model Development</h4>
                        <p>Deep learning, transformers, and ensemble methods combining traditional finance with narrative insights.</p>
                    </div>
                </div>
            </section>

            <!-- Results -->
            <section id="results" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9776;</div>
                    <div>
                        <h2>Output & Results</h2>
                        <p class="section-subtitle">Project impact and deliverables</p>
                    </div>
                </div>
                <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr);">
                    <div class="stat-card">
                        <div class="stat-number">122</div>
                        <div class="stat-label">Publications</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">2,010</div>
                        <div class="stat-label">Total Citations</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">13</div>
                        <div class="stat-label">Max h-index</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">CHF 236K</div>
                        <div class="stat-label">SNSF Funding</div>
                    </div>
                </div>
                <p style="text-align: center; margin-top: 1rem; font-size: 0.75rem; color: var(--text-light);">
                    Publication metrics from <a href="https://openalex.org" target="_blank" style="color: var(--secondary);">OpenAlex</a> |
                    Project: Aug 2023 - Aug 2026
                </p>
            </section>

            <!-- Publications -->
            <section id="publications" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9998;</div>
                    <div>
                        <h2>Publications</h2>
                        <p class="section-subtitle">Team research contributions from OpenAlex</p>
                    </div>
                </div>
                <div class="pub-controls">
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <input type="text" class="pub-search" id="pubSearch" placeholder="Search publications...">
                        <span class="pub-count" id="pubCount">Loading...</span>
                    </div>
                    <button class="refresh-btn" id="refreshBtn" onclick="refreshFromOpenAlex()">
                        <span class="spinner"></span>
                        Refresh from OpenAlex
                    </button>
                </div>
                <div class="pub-table-container">
                    <table class="pub-table" id="pubTable">
                        <thead>
                            <tr>
                                <th onclick="sortTable(0)" style="width: 60px;">Year <span class="sort-icon">&#8597;</span></th>
                                <th onclick="sortTable(1)">Title <span class="sort-icon">&#8597;</span></th>
                                <th onclick="sortTable(2)" style="width: 180px;">Authors <span class="sort-icon">&#8597;</span></th>
                                <th onclick="sortTable(3)" style="width: 150px;">Venue <span class="sort-icon">&#8597;</span></th>
                                <th onclick="sortTable(4)" style="width: 80px;">Citations <span class="sort-icon">&#8597;</span></th>
                                <th style="width: 80px;">Links</th>
                            </tr>
                        </thead>
                        <tbody id="pubTableBody">
                            <tr><td colspan="6" style="text-align: center; padding: 2rem;">Loading publications...</td></tr>
                        </tbody>
                    </table>
                </div>
                <p style="text-align: center; margin-top: 1rem; font-size: 0.75rem; color: var(--text-light);">
                    Data source: <a href="https://openalex.org" target="_blank" style="color: var(--secondary);">OpenAlex</a> -
                    Open catalog of scholarly works
                </p>
            </section>

            <!-- Collaborations -->
            <section id="collaborations" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9741;</div>
                    <div>
                        <h2>Collaborations</h2>
                        <p class="section-subtitle">Industry and academic partnerships</p>
                    </div>
                </div>
                <h3>Industry Partners</h3>
                <div class="grid grid-3">
                    <div class="card">
                        <h4>Deutsche Borse AG</h4>
                        <p><strong>Dr. Stefan Schlamp</strong><br>Head of Quantitative Analytics<br>HFT & Market Microstructure (since Jan 2024)</p>
                    </div>
                    <div class="card">
                        <h4>Quoniam Asset Management</h4>
                        <p>Quantitative investment strategies and risk management collaboration</p>
                    </div>
                </div>
                <h3>Academic Partners</h3>
                <div class="grid grid-3">
                    <div class="card">
                        <h4>Humboldt-University Berlin</h4>
                        <p>Research collaboration on financial econometrics and machine learning</p>
                    </div>
                    <div class="card">
                        <h4>American University of Sharjah</h4>
                        <p>International research partnership on digital finance</p>
                    </div>
                    <div class="card">
                        <h4>Babes-Bolyai University</h4>
                        <p>Academic collaboration on quantitative finance research</p>
                    </div>
                </div>
                <h3>Networks & Initiatives</h3>
                <div class="grid grid-2">
                    <div class="card">
                        <h4>COST Action CA19130</h4>
                        <p><strong>Fintech and AI in Finance</strong><br>Action Chair: Joerg Osterrieder</p>
                    </div>
                    <div class="card">
                        <h4>MSCA Industrial Doctoral Network</h4>
                        <p><strong>Digital Finance</strong><br>Coordinator: Joerg Osterrieder</p>
                    </div>
                </div>
            </section>

            <!-- Funding -->
            <section id="funding" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9830;</div>
                    <div>
                        <h2>Funding</h2>
                        <p class="section-subtitle">Supporting organizations</p>
                    </div>
                </div>
                <div class="grid grid-2">
                    <div class="card">
                        <h4>Swiss National Science Foundation</h4>
                        <p>Proposal Number: 100018E_213370</p>
                        <a href="https://www.mysnf.ch/grants/grant.aspx?id=c8d8081e-6eee-4418-92bb-21dc2c89566a" class="btn btn-outline btn-sm" style="margin-top: 1rem;">SNSF Grant Page</a>
                    </div>
                    <div class="card">
                        <h4>Horizon Europe</h4>
                        <p>Marie Sklodowska-Curie Actions<br>Grant Agreement No. 101119635</p>
                        <a href="https://cordis.europa.eu/project/id/101119635" class="btn btn-outline btn-sm" style="margin-top: 1rem;">EU CORDIS</a>
                    </div>
                </div>
            </section>

            <!-- News -->
            <section id="news" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9888;</div>
                    <div>
                        <h2>News & Updates</h2>
                        <p class="section-subtitle">Latest project developments</p>
                    </div>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">December 2024</div>
                        <h4>GitHub Repository Launched</h4>
                        <p>Project repository and comprehensive wiki documentation now available on GitHub.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">2024</div>
                        <h4>SSRN Publication</h4>
                        <p>Published research on multimodal influence in financial instrument pricing.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">2024</div>
                        <h4>SNSF Mobility Grants</h4>
                        <p>Team received SNSF Mobility Research Grants for international collaboration.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">2023</div>
                        <h4>Project Launch</h4>
                        <p>Narrative Digital Finance research project officially started.</p>
                    </div>
                </div>
            </section>

            <!-- Contact -->
            <section id="contact" class="section">
                <div class="section-header">
                    <div class="section-icon">&#9993;</div>
                    <div>
                        <h2>Contact</h2>
                        <p class="section-subtitle">Get in touch with the team</p>
                    </div>
                </div>
                <div class="contact-grid">
                    <div class="contact-card">
                        <h4>Principal Investigator</h4>
                        <p><strong>Prof. Dr. Joerg Osterrieder</strong><br>Bern Business School<br>University of Twente</p>
                    </div>
                    <div class="contact-card">
                        <h4>Project Website</h4>
                        <p><a href="https://www.digital-finance-msca.com/snsf-narrative-digital-finance">digital-finance-msca.com</a></p>
                    </div>
                    <div class="contact-card">
                        <h4>GitHub</h4>
                        <p><a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance">Digital-AI-Finance</a></p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-grid">
                    <div class="footer-col">
                        <h5>Project</h5>
                        <a href="#overview">Overview</a>
                        <a href="#objectives">Objectives</a>
                        <a href="#methods">Methods</a>
                        <a href="#results">Results</a>
                    </div>
                    <div class="footer-col">
                        <h5>Team</h5>
                        <a href="#team">Members</a>
                        <a href="#collaborations">Collaborations</a>
                    </div>
                    <div class="footer-col">
                        <h5>Resources</h5>
                        <a href="#publications">Publications</a>
                        <a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance/wiki">Wiki</a>
                        <a href="https://github.com/Digital-AI-Finance/Narrative-Digital-Finance">GitHub</a>
                    </div>
                    <div class="footer-col">
                        <h5>Funding</h5>
                        <a href="https://www.mysnf.ch/grants/grant.aspx?id=c8d8081e-6eee-4418-92bb-21dc2c89566a">SNSF</a>
                        <a href="https://cordis.europa.eu/project/id/101119635">EU CORDIS</a>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>Funded by the European Union. Views and opinions expressed are those of the author(s) only.</p>
                    <p style="margin-top: 0.5rem;">Marie Sklodowska-Curie Grant Agreement No. 101119635</p>
                    <p style="margin-top: 1rem;">&copy; 2024 Narrative Digital Finance | <a href="https://www.digital-finance-msca.com">Digital Finance MSCA</a></p>
                </div>
            </div>
        </footer>
    </main>

    <!-- Back to Top -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">&#8593;</button>

    <script>
        // Global publications data
        let publicationsData = [];
        let sortDirection = {};

        function toggleMenu() {
            document.getElementById('navMenu').classList.toggle('show');
            document.getElementById('sidebar').classList.toggle('open');
        }
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        window.addEventListener('scroll', function() {
            const btn = document.getElementById('backToTop');
            btn.classList.toggle('visible', window.scrollY > 300);
        });
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.navbar-nav a, .sidebar-nav a');
        function highlightNav() {
            let scrollPos = window.scrollY + 120;
            sections.forEach(section => {
                const top = section.offsetTop;
                const height = section.offsetHeight;
                const id = section.getAttribute('id');
                if (scrollPos >= top && scrollPos < top + height) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }
        window.addEventListener('scroll', highlightNav);
        highlightNav();
        // Animate on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.section').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'all 0.6s ease-out';
            observer.observe(el);
        });

        // Publications functionality
        async function loadPublications() {
            try {
                const response = await fetch('data/publications.json');
                publicationsData = await response.json();
                renderPublications(publicationsData);
            } catch (error) {
                console.error('Error loading publications:', error);
                document.getElementById('pubTableBody').innerHTML =
                    '<tr><td colspan="6" style="text-align: center; padding: 2rem; color: var(--text-light);">Unable to load publications. Try refreshing from OpenAlex.</td></tr>';
                document.getElementById('pubCount').textContent = '0 publications';
            }
        }

        function renderPublications(pubs) {
            const tbody = document.getElementById('pubTableBody');
            const countEl = document.getElementById('pubCount');

            if (!pubs || pubs.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 2rem;">No publications found.</td></tr>';
                countEl.textContent = '0 publications';
                return;
            }

            countEl.textContent = `${pubs.length} publications`;

            tbody.innerHTML = pubs.map(pub => {
                const citationClass = pub.cited_by_count >= 10 ? 'high' : '';
                const doiLink = pub.doi_url ? `<a href="${pub.doi_url}" target="_blank" class="doi-link">DOI</a>` : '';
                const oaBadge = pub.open_access ? '<span class="oa-badge">OA</span>' : '';
                const titleLink = pub.doi_url
                    ? `<a href="${pub.doi_url}" target="_blank" class="title-link">${pub.title || 'Untitled'}</a>`
                    : (pub.title || 'Untitled');

                return `<tr>
                    <td>${pub.year || '-'}</td>
                    <td class="title-cell">${titleLink}</td>
                    <td class="authors-cell">${pub.authors_str || '-'}</td>
                    <td class="venue-cell">${pub.venue || '-'}</td>
                    <td><span class="citations-badge ${citationClass}">${pub.cited_by_count || 0}</span></td>
                    <td>${doiLink} ${oaBadge}</td>
                </tr>`;
            }).join('');
        }

        function sortTable(columnIndex) {
            const dir = sortDirection[columnIndex] === 'asc' ? 'desc' : 'asc';
            sortDirection[columnIndex] = dir;

            const sortedData = [...publicationsData].sort((a, b) => {
                let valA, valB;
                switch(columnIndex) {
                    case 0: valA = a.year || 0; valB = b.year || 0; break;
                    case 1: valA = (a.title || '').toLowerCase(); valB = (b.title || '').toLowerCase(); break;
                    case 2: valA = (a.authors_str || '').toLowerCase(); valB = (b.authors_str || '').toLowerCase(); break;
                    case 3: valA = (a.venue || '').toLowerCase(); valB = (b.venue || '').toLowerCase(); break;
                    case 4: valA = a.cited_by_count || 0; valB = b.cited_by_count || 0; break;
                    default: return 0;
                }
                if (typeof valA === 'number') {
                    return dir === 'asc' ? valA - valB : valB - valA;
                }
                return dir === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);
            });
            renderPublications(sortedData);
        }

        // Search functionality
        document.getElementById('pubSearch').addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            const filtered = publicationsData.filter(pub =>
                (pub.title || '').toLowerCase().includes(query) ||
                (pub.authors_str || '').toLowerCase().includes(query) ||
                (pub.venue || '').toLowerCase().includes(query) ||
                String(pub.year || '').includes(query)
            );
            renderPublications(filtered);
        });

        // OpenAlex API endpoints
        const OPENALEX_AUTHORS = [
            { name: 'Joerg Osterrieder', search: 'Joerg Osterrieder', minWorks: 100 },
            { name: 'Branka Hadji Misheva', search: 'Branka Hadji Misheva' },
            { name: 'Gabin Taibi', search: 'Gabin Taibi' },
            { name: 'Lennart John Baals', search: 'Lennart Baals' },
            { name: 'Yiting Liu', search: 'Yiting Liu' }
        ];

        async function refreshFromOpenAlex() {
            const btn = document.getElementById('refreshBtn');
            btn.classList.add('loading');
            document.getElementById('pubTableBody').innerHTML =
                '<tr><td colspan="6" style="text-align: center; padding: 2rem;">Fetching from OpenAlex API...</td></tr>';

            try {
                const allWorks = [];
                const seenIds = new Set();

                for (const author of OPENALEX_AUTHORS) {
                    // Search for author
                    let url = `https://api.openalex.org/authors?search=${encodeURIComponent(author.search)}&per_page=5&mailto=web@example.com`;
                    if (author.minWorks) {
                        url += `&filter=works_count:>${author.minWorks}`;
                    }

                    const authorRes = await fetch(url);
                    const authorData = await authorRes.json();

                    if (authorData.results && authorData.results.length > 0) {
                        const authorId = authorData.results[0].id;

                        // Fetch works
                        const worksRes = await fetch(
                            `https://api.openalex.org/works?filter=authorships.author.id:${authorId}&per_page=100&sort=publication_year:desc&mailto=web@example.com`
                        );
                        const worksData = await worksRes.json();

                        if (worksData.results) {
                            for (const work of worksData.results) {
                                if (!seenIds.has(work.id)) {
                                    seenIds.add(work.id);
                                    allWorks.push({
                                        id: work.id,
                                        title: work.title,
                                        year: work.publication_year,
                                        doi: work.doi ? work.doi.replace('https://doi.org/', '') : null,
                                        doi_url: work.doi,
                                        authors_str: work.authorships?.slice(0, 5).map(a => a.author?.display_name).join(', ') + (work.authorships?.length > 5 ? '...' : ''),
                                        venue: work.primary_location?.source?.display_name || '',
                                        cited_by_count: work.cited_by_count || 0,
                                        open_access: work.open_access?.is_oa || false,
                                        team_member: author.name
                                    });
                                }
                            }
                        }
                    }
                }

                // Sort by year desc
                allWorks.sort((a, b) => (b.year || 0) - (a.year || 0));

                publicationsData = allWorks;
                renderPublications(publicationsData);

            } catch (error) {
                console.error('Error fetching from OpenAlex:', error);
                document.getElementById('pubTableBody').innerHTML =
                    '<tr><td colspan="6" style="text-align: center; padding: 2rem; color: red;">Error fetching from OpenAlex. Please try again.</td></tr>';
            } finally {
                btn.classList.remove('loading');
            }
        }

        // Load publications on page load
        document.addEventListener('DOMContentLoaded', loadPublications);
    </script>
</body>
</html>
